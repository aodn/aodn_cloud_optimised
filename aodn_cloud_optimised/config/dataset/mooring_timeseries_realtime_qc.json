{
  "dataset_name": "mooring_timeseries_realtime_qc",
  "logger_name": "mooring_timeseries_realtime_qc",
  "cloud_optimised_format": "parquet",
  "run_settings": {
    "paths": [
      {
        "s3_uri": "s3://imos-data/IMOS/ANMN/NRS/NRSMAI/real-time",
        "filter": [
          ".*\\.nc"
        ],
        "year_range": []
      }
    ],
    "cluster": {
      "mode": "local",
      "restart_every_path": false
    },
    "clear_existing_data": true,
    "raise_error": false,
    "coiled_cluster_options": {
      "n_workers": [
        1,
        20
      ],
      "scheduler_vm_types": "m7i-flex.large",
      "worker_vm_types": "m7i-flex.large",
      "allow_ingress_from": "me",
      "compute_purchase_option": "spot_with_fallback",
      "worker_options": {
        "nthreads": 4,
        "memory_limit": "8GB"
      }
    },
    "batch_size": 5,
    "force_previous_parquet_deletion": false
  },
  "metadata_uuid": "a8f5c736-6eaa-47fb-a9eb-d778beb71701",
  "schema": {
    "TEMP": {
      "type": "float",
      "ancillary_variables": "TEMP_quality_control",
      "standard_name": "sea_water_temperature",
      "long_name": "sea_water_temperature",
      "units": "degC",
      "valid_min": -2.5,
      "valid_max": 40.0
    },
    "TEMP_quality_control": {
      "type": "float",
      "flag_meanings": "pass not_evaluated questionable bad missing",
      "flag_values": [
        1,
        2,
        3,
        4,
        9
      ],
      "long_name": "quality flag for sea_water_temperature",
      "quality_control_conventions": "Ocean Data Standards, UNESCO 2013 - IOC Manuals and Guides, 54, Volume 3 Version 1",
      "standard_name": "sea_water_temperature status_flag"
    },
    "DEPTH": {
      "type": "double",
      "long_name": "actual depth",
      "positive": "down",
      "reference_datum": "sea surface",
      "standard_name": "depth",
      "comment": "Depth computed using the Gibbs-SeaWater toolbox (TEOS-10) from latitude and relative pressure measurements (calibration offset usually performed to balance current atmospheric pressure and acute sensor precision at a deployed depth).",
      "units": "m",
      "valid_max": 12000.0,
      "valid_min": -5.0
    },
    "DEPTH_quality_control": {
      "type": "float",
      "flag_meanings": "pass not_evaluated questionable bad missing",
      "flag_values": [
        1,
        2,
        3,
        4,
        9
      ],
      "long_name": "quality flag for depth",
      "quality_control_conventions": "Ocean Data Standards, UNESCO 2013 - IOC Manuals and Guides, 54, Volume 3 Version 1",
      "standard_name": "depth status_flag"
    },
    "DOX1": {
      "type": "float",
      "ancillary_variables": "DOX1_quality_control",
      "comment": "DOX1 derived using DOX1 = DOX * 44.6596.",
      "long_name": "mole_concentration_of_dissolved_molecular_oxygen_in_sea_water",
      "standard_name": "mole_concentration_of_dissolved_molecular_oxygen_in_sea_water",
      "units": "umol l-1",
      "valid_max": 1000.0,
      "valid_min": 0.0
    },
    "DOX1_quality_control": {
      "type": "float",
      "flag_meanings": "pass not_evaluated questionable bad missing",
      "flag_values": [
        1,
        2,
        3,
        4,
        9
      ],
      "long_name": "quality flag for mole_concentration_of_dissolved_molecular_oxygen_in_sea_water",
      "quality_control_conventions": "Ocean Data Standards, UNESCO 2013 - IOC Manuals and Guides, 54, Volume 3 Version 1",
      "standard_name": "mole_concentration_of_dissolved_molecular_oxygen_in_sea_water status_flag"
    },
    "PRES_REL": {
      "type": "double",
      "long_name": "sea_water_pressure_due_to_sea_water",
      "standard_name": "sea_water_pressure_due_to_sea_water",
      "units": "dbar",
      "valid_max": 12000.0,
      "valid_min": -15.0
    },
    "PRES_REL_quality_control": {
      "type": "float",
      "flag_meanings": "pass not_evaluated questionable bad missing",
      "flag_values": [
        1,
        2,
        3,
        4,
        9
      ],
      "long_name": "quality flag for sea_water_pressure_due_to_sea_water",
      "quality_control_conventions": "Ocean Data Standards, UNESCO 2013 - IOC Manuals and Guides, 54, Volume 3 Version 1",
      "standard_name": "sea_water_pressure_due_to_sea_water status_flag"
    },
    "PSAL": {
      "type": "float",
      "ancillary_variables": "PSAL_quality_control",
      "long_name": "sea_water_practical_salinity",
      "standard_name": "sea_water_practical_salinity",
      "units": "1",
      "valid_max": 41.0,
      "valid_min": 2.0
    },
    "PSAL_quality_control": {
      "type": "float",
      "flag_meanings": "pass not_evaluated questionable bad missing",
      "flag_values": [
        1,
        2,
        3,
        4,
        9
      ],
      "long_name": "quality flag for sea_water_practical_salinity",
      "quality_control_conventions": "Ocean Data Standards, UNESCO 2013 - IOC Manuals and Guides, 54, Volume 3 Version 1",
      "standard_name": "sea_water_practical_salinity status_flag"
    },
    "LATITUDE_GPS": {
      "type": "double",
      "long_name": "latitude at most recent GPS fix",
      "reference_datum": "WGS84 geographic coordinate system",
      "standard_name": "latitude",
      "comment": "coordinates are carried forward to fill gaps between recorded fixes.",
      "units": "degrees_north",
      "valid_max": 90.0,
      "valid_min": -90.0
    },
    "LONGITUDE_GPS": {
      "type": "double",
      "long_name": "longitude at most recent GPS fix",
      "reference_datum": "WGS84 geographic coordinate system",
      "standard_name": "longitude",
      "comment": "coordinates are carried forward to fill gaps between recorded fixes.",
      "units": "degrees_east",
      "valid_max": 180.0,
      "valid_min": -180.0
    },
    "TIME": {
      "type": "timestamp[ns]",
      "axis": "T",
      "long_name": "time",
      "standard_name": "time",
      "valid_max": 90000.0,
      "valid_min": 0.0
    },
    "NOMINAL_DEPTH": {
      "type": "float",
      "standard_name": "depth",
      "long_name": "nominal depth",
      "units": "m",
      "reference_datum": "sea surface",
      "positive": "down",
      "axis": "Z",
      "valid_min": -5.0,
      "valid_max": 12000.0
    },
    "LATITUDE": {
      "type": "double",
      "axis": "Y",
      "long_name": "latitude",
      "reference_datum": "WGS84 geographic coordinate system",
      "standard_name": "latitude",
      "units": "degrees_north",
      "valid_max": 90.0,
      "valid_min": -90.0
    },
    "LONGITUDE": {
      "type": "double",
      "axis": "X",
      "long_name": "longitude",
      "reference_datum": "WGS84 geographic coordinate system",
      "standard_name": "longitude",
      "units": "degrees_east",
      "valid_max": 180.0,
      "valid_min": -180.0
    }
  },
  "aws_opendata_registry": {
    "Name": "IMOS - National Mooring Network Facility - Near real-time data",
    "Description": "The National Mooring Network Facility (formerly known as the Australian National Mooring Network (ANMN)), is a series of national reference stations and regional moorings designed to monitor particular oceanographic phenomena in Australian coastal ocean waters. This collection includes surface and sub-surface observations transmitted in near real-time. The measured properties are water temperature, salinity, pressure and dissolved oxygen.\n\nInitial data are from the Maria Island National Reference Station (NRS), which is one of a series of national reference stations designed to monitor particular oceanographic phenomena in Australian coastal ocean waters. Located off the east coast of Maria Island in Tasmania, the station has provided the longest high quality ocean time series in the Southern Hemisphere, consisting of biogeochemical samples collected since 1944 and high-frequency moored instrument data since 2008.\n\nPreviously near-real time data were collected from several IMOS moorings (the following National Reference Stations: Maria Island, North Stradbroke Island, Darwin and Yongala), and discontinued in 2017. The previous data were not quality controlled and measured by different instrumentation (WQM or SBE16V2+).\n\nAutomated quality control routines are applied to the near real-time data. The delayed mode data will be available at the end of a deployment after applying further processing and quality control checks.",
    "Documentation": "https://catalogue-imos.aodn.org.au/geonetwork/srv/eng/catalog.search#/metadata/a8f5c736-6eaa-47fb-a9eb-d778beb71701",
    "Contact": "info@aodn.org.au",
    "ManagedBy": "AODN",
    "UpdateFrequency": "As Needed",
    "Tags": [
      "FILL UP MANUALLY - CHECK DOCUMENTATION"
    ],
    "License": "http://creativecommons.org/licenses/by/4.0/",
    "Resources": [
      {
        "Description": "Cloud Optimised AODN dataset of IMOS - National Mooring Network Facility - Near real-time data",
        "ARN": "arn:aws:s3:::imos-data-lab-optimised/mooring_timeseries_realtime_qc.parquet",
        "Region": "ap-southeast-2",
        "Type": "S3 Bucket"
      }
    ],
    "DataAtWork": {
      "Tutorials": [
        {
          "Title": "Accessing IMOS - National Mooring Network Facility - Near real-time data",
          "URL": "https://github.com/aodn/aodn_cloud_optimised/blob/main/notebooks/mooring_timeseries_realtime_qc.ipynb",
          "NotebookURL": "https://githubtocolab.com/aodn/aodn_cloud_optimised/blob/main/notebooks/mooring_timeseries_realtime_qc.ipynb",
          "AuthorName": "Laurent Besnard",
          "AuthorURL": "https://github.com/aodn/aodn_cloud_optimised"
        },
        {
          "Title": "Accessing and search for any AODN dataset",
          "URL": "https://github.com/aodn/aodn_cloud_optimised/blob/main/notebooks/GetAodnData.ipynb",
          "NotebookURL": "https://githubtocolab.com/aodn/aodn_cloud_optimised/blob/main/notebooks/GetAodnData.ipynb",
          "AuthorName": "Laurent Besnard",
          "AuthorURL": "https://github.com/aodn/aodn_cloud_optimised"
        }
      ]
    },
    "Citation": "IMOS [year-of-data-download], [Title], [data-access-URL], accessed [date-of-access]"
  },
  "schema_transformation": {
    "drop_variables": [],
    "add_variables": {
      "filename": {
        "source": "@filename",
        "schema": {
          "type": "string",
          "units": "1",
          "long_name": "Filename of the source file"
        }
      },
      "timestamp": {
        "source": "@partitioning:time_extent",
        "schema": {
          "type": "int64",
          "units": "1",
          "long_name": "Partition timestamp"
        }
      },
      "polygon": {
        "source": "@partitioning:spatial_extent",
        "schema": {
          "type": "string",
          "units": "1",
          "long_name": "Spatial partition polygon"
        }
      },
      "site_code": {
        "source": "@global_attribute:site_code",
        "schema": {
          "type": "string",
          "units": "1",
          "long_name": "site code"
        }
      }
    },
    "partitioning": [
      {
        "source_variable": "timestamp",
        "type": "time_extent",
        "time_extent": {
          "time_varname": "TIME",
          "partition_period": "Q"
        }
      },
      {
        "source_variable": "polygon",
        "type": "spatial_extent",
        "spatial_extent": {
          "lat_varname": "LATITUDE",
          "lon_varname": "LONGITUDE",
          "spatial_resolution": 5
        }
      }
    ],
    "global_attributes": {
      "delete": [
        "geospatial_lat_max",
        "geospatial_lat_min",
        "geospatial_lon_max",
        "geospatial_lon_min",
        "date_created"
      ],
      "set": {
        "title": "ANMN mooring timeseries realtime"
      }
    }
  }
}
