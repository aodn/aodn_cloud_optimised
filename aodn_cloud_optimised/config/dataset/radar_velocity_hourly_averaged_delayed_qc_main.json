{
  "dataset_name": "radar_velocity_hourly_averaged_delayed_qc_main",
  "logger_name": "radar_velocity_hourly_averaged_delayed_qc_main",
  "cloud_optimised_format": "zarr",
  "var_template_shape": "UCUR",
  "vars_incompatible_with_region": [
    "I",
    "J",
    "LATITUDE",
    "LONGITUDE",
    "GDOP"
  ],
  "schema": {
    "TIME": {
      "type": "timestamp[ns]",
      "standard_name": "time",
      "long_name": "time",
      "axis": "T",
      "valid_min": 0.0,
      "valid_max": 999999.0,
      "comment": "Given time lays at the middle of the averaging time period.",
      "local_time_zone": 8.0
    },
    "LATITUDE": {
      "type": "double",
      "standard_name": "latitude",
      "long_name": "latitude",
      "units": "degrees_north",
      "axis": "Y",
      "valid_min": -90.0,
      "valid_max": 90.0,
      "reference_datum": "geographical coordinates, WGS84 datum"
    },
    "I": {
      "type": "int32"
    },
    "J": {
      "type": "int32"
    },
    "LONGITUDE": {
      "type": "double",
      "standard_name": "longitude",
      "long_name": "longitude",
      "units": "degrees_east",
      "axis": "X",
      "valid_min": -180.0,
      "valid_max": 180.0,
      "reference_datum": "geographical coordinates, WGS84 datum"
    },
    "GDOP": {
      "type": "float",
      "long_name": "radar beam intersection angle",
      "units": "Degrees",
      "valid_min": 0.0,
      "valid_max": 180.0,
      "comment": "This angle is used to assess the impact of Geometric Dilution of Precision. If angle >= 150 or <= 30, then QC flag will not be lower than 4 (see abstract)."
    },
    "UCUR": {
      "type": "float",
      "standard_name": "eastward_sea_water_velocity",
      "long_name": "Mean of sea water velocity U component values in 1 hour, after rejection of obvious bad data (see abstract).",
      "units": "m s-1",
      "valid_min": -10.0,
      "valid_max": 10.0,
      "cell_methods": "TIME: mean",
      "ancillary_variables": "UCUR_quality_control"
    },
    "VCUR": {
      "type": "float",
      "standard_name": "northward_sea_water_velocity",
      "long_name": "Mean of sea water velocity V component values in 1 hour, after rejection of obvious bad data (see abstract).",
      "units": "m s-1",
      "valid_min": -10.0,
      "valid_max": 10.0,
      "cell_methods": "TIME: mean",
      "ancillary_variables": "VCUR_quality_control"
    },
    "UCUR_sd": {
      "type": "float",
      "long_name": "Standard deviation of sea water velocity U component values in 1 hour, after rejection of obvious bad data (see abstract).",
      "units": "m s-1",
      "valid_min": -10.0,
      "valid_max": 10.0,
      "cell_methods": "TIME: standard_deviation",
      "ancillary_variables": "UCUR_quality_control"
    },
    "VCUR_sd": {
      "type": "float",
      "long_name": "Standard deviation of sea water velocity V component values in 1 hour, after rejection of obvious bad data (see abstract).",
      "units": "m s-1",
      "valid_min": -10.0,
      "valid_max": 10.0,
      "cell_methods": "TIME: standard_deviation",
      "ancillary_variables": "VCUR_quality_control"
    },
    "NOBS1": {
      "type": "float",
      "long_name": "Number of observations of sea water velocity in 1 hour from station 1, after rejection of obvious bad data (see abstract).",
      "units": "1"
    },
    "NOBS2": {
      "type": "float",
      "long_name": "Number of observations of sea water velocity in 1 hour from station 2, after rejection of obvious bad data (see abstract).",
      "units": "1"
    },
    "UCUR_quality_control": {
      "type": "float",
      "standard_name": "eastward_sea_water_velocity status_flag",
      "long_name": "quality flag for eastward_sea_water_velocity",
      "quality_control_conventions": "IMOS standard flags",
      "quality_control_set": 1.0,
      "valid_min": 0,
      "valid_max": 9,
      "flag_values": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "flag_meanings": "no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_values missing_values",
      "comment": "This value is set on the basis of the offline quality controls applied in the time domain (see abstract)."
    },
    "VCUR_quality_control": {
      "type": "float",
      "standard_name": "northward_sea_water_velocity status_flag",
      "long_name": "quality flag for northward_sea_water_velocity",
      "quality_control_conventions": "IMOS standard flags",
      "quality_control_set": 1.0,
      "valid_min": 0,
      "valid_max": 9,
      "flag_values": [
        0,
        1,
        2,
        3,
        4,
        5,
        6,
        7,
        8,
        9
      ],
      "flag_meanings": "no_qc_performed good_data probably_good_data bad_data_that_are_potentially_correctable bad_data value_changed not_used not_used interpolated_values missing_values",
      "comment": "This value is set on the basis of the offline quality controls applied in the time domain (see abstract)."
    }
  },
  "dataset_gattrs": {
    "title": "",
    "project": "Integrated Marine Observing System (IMOS)",
    "Conventions": "CF-1.6,IMOS-1.4",
    "abstract": "The IMOS Ocean Radar Facility is producing NetCDF files containing quality controlled vector current maps at 1 hour time interval. They are produced from radial currents, which represent the surface sea water current component along the radial direction from a receiver antenna. Radials are calculated from the shift of the Bragg peaks in a power spectrum. They are mapped onto specific angles through a Direction-Finding algorithm and are converted into current vector components using an unweighted least-squares fit. Radials and vector maps are computed using the standard software provided by the ocean radar manifacturer, CODAR Ocean Sensors (COS). Radials are extracted from the Doppler spectra using the calibrated antenna pattern. Thresholds for radial SNR and velocities are set to 6dB, and 150 cm s-1. Vectors are produced at each grid point using an unweighted least-squares fit. Radial velocities from the two sites falling within a search radius R=20 km around each grid point are used in the computation. At least two radials per site are required in computation of the velocity components. QC procedures apply first to intersection angle (GDOP>=30 & GDOP<=150); the U, V current components are then further inspected using 4 different statistical methods: absolute deviation from the median (MAD); statistics of the velocity distributions; statistics of the distributions of the 1st derivative; statistics of the distributions of the high-frequency components. Data are flagged based on the results of the statistical tests: 4, if three or more tests fail; 3, if two tests fail; 2, if one test fails; 1, no test fails. The final product is produced on a regular geographic grid. More information on the data processing is available through the document: Quality Control procedures for ACORN radars Manual Version 3.0 Integrated Marine Observing System. DOI: 10.26198/5c89b59a931cb (http://dx.doi.org/10.26198/5c89b59a931cb)",
    "author": "Cosoli, Simone; Hetzel, Yasha",
    "author_email": "simone.cosoli@uwa.edu.au; yasha.hetzel@uwa.edu.au",
    "institution": "IMOS Ocean Radar Facility",
    "institution_references": "https://imos.org.au/facility/ocean-radar",
    "data_centre": "Australian Ocean Data Network (AODN)",
    "data_centre_email": "info@aodn.org.au",
    "instrument": "CODAR Ocean Sensors/SeaSonde",
    "source": "Terrestrial HF radar",
    "file_version": "Level 1 - Quality Controlled data",
    "file_version_quality_control": "Data in this file has been through the quality control procedure as described in the document: Offline QC procedures for ACORN radars.  Every data point in this file has an associated quality flag.",
    "citation": "The citation in a list of references is: IMOS, [year-of-data-download], [Title], [data-access-URL], accessed [date-of-access]",
    "acknowledgement": "Any users of IMOS data are required to clearly acknowledge the source of the material derived from IMOS in the format: 'Data was sourced from the Integrated Marine Observing System (IMOS) - IMOS is a national collaborative research infrastructure, supported by the Australian Government. If relevant, also credit other organisations involved in collection of this particular datastream (as listed in 'credit' in the metadata record).'",
    "disclaimer": "Data, products and services from IMOS are provided 'as is' without any warranty as to fitness for a particular purpose."
  },
  "run_settings": {
    "coiled_cluster_options": {
      "n_workers": [
        12,
        120
      ],
      "scheduler_vm_types": "m7i.large",
      "worker_vm_types": "m7i.xlarge",
      "allow_ingress_from": "me",
      "compute_purchase_option": "spot_with_fallback",
      "worker_options": {
        "nthreads": 16,
        "memory_limit": "64GB"
      }
    },
    "batch_size": 6000,
    "cluster": {
      "mode": "coiled",
      "restart_every_path": false
    },
    "paths": [],
    "clear_existing_data": true,
    "raise_error": false
  }
}
