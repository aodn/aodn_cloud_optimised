{
  "dataset_name": "mooring_southern_ocean_surface_fluxes_realtime_qc",
  "logger_name": "mooring_southern_ocean_surface_fluxes_realtime_qc",
  "cloud_optimised_format": "parquet",
  "run_settings": {
    "paths": [
      {
        "s3_uri": "s3://imos-data/IMOS/DWM/ASFS/SOFS/Surface_fluxes/Real-time/",
        "filter": [
          ".*_FV02.*\\.nc"
        ],
        "year_range": []
      }
    ],
    "cluster": {
      "mode": "coiled",
      "restart_every_path": false
    },
    "clear_existing_data": true,
    "raise_error": false,
    "coiled_cluster_options": {
      "n_workers": [
        1,
        20
      ],
      "scheduler_vm_types": "m7i-flex.large",
      "worker_vm_types": "m7i-flex.large",
      "allow_ingress_from": "me",
      "compute_purchase_option": "spot_with_fallback",
      "worker_options": {
        "nthreads": 4,
        "memory_limit": "32GB"
      }
    },
    "batch_size": 20,
    "force_previous_parquet_deletion": false
  },
  "metadata_uuid": "80ffbf9d-9547-41aa-8fa1-cf028c58556a",
  "schema": {
    "TIME": {
      "type": "timestamp[ns]",
      "standard_name": "time",
      "long_name": "time",
      "axis": "T",
      "valid_min": 0,
      "valid_max": 90000.0,
      "comment": "Relative julian days with decimal part as parts of the day"
    },
    "LATITUDE": {
      "type": "float",
      "standard_name": "latitude",
      "long_name": "latitude",
      "units": "degrees_north",
      "axis": "Y",
      "valid_min": -90,
      "valid_max": 90,
      "reference_datum": "geographical coordinates, WGS84"
    },
    "LONGITUDE": {
      "type": "float",
      "standard_name": "longitude",
      "long_name": "longitude",
      "units": "degrees_east",
      "axis": "X",
      "valid_min": -180,
      "valid_max": 180,
      "reference_datum": "geographical coordinates, WGS84"
    },
    "PL_CMP": {
      "type": "float",
      "long_name": "compass direction",
      "units": "degrees_north",
      "observation_type": "measured"
    },
    "WDIR": {
      "type": "float",
      "standard_name": "wind_to_direction",
      "long_name": "earth relative wind direction (oceanographic)",
      "units": "degree",
      "observation_type": "calculated",
      "comment": "wind direction is calculated from observed wind vectors and compass"
    },
    "WSPD": {
      "type": "float",
      "standard_name": "wind_speed",
      "long_name": "earth relative wind speed",
      "units": "meter second-1",
      "observation_type": "calculated",
      "comment": "wind speed is calculated from observed wind vectors and compass"
    },
    "WIND_H": {
      "type": "float",
      "long_name": "wind measurement height above water level",
      "units": "meter"
    },
    "WIND_FLAG": {
      "type": "int32",
      "long_name": "wind sensor flag",
      "comment": "1 - system1, 2 - system2"
    },
    "ATMP": {
      "type": "float",
      "standard_name": "air_pressure",
      "long_name": "atmospheric pressure",
      "units": "hectopascal",
      "mslp_indicator": "at sensor height",
      "observation_type": "measured"
    },
    "ATMP_H": {
      "type": "float",
      "long_name": "atmospheric pressure measurement height above water level",
      "units": "meter"
    },
    "ATMP_FLAG": {
      "type": "int32",
      "long_name": "atmospheric pressure sensor flag",
      "comment": "1 - system1, 2 - system2"
    },
    "AIRT": {
      "type": "float",
      "standard_name": "air_temperature",
      "long_name": "air temperature",
      "units": "celsius",
      "observation_type": "measured"
    },
    "AIRT_H": {
      "type": "float",
      "long_name": "air temperature measurement height above water level",
      "units": "meter"
    },
    "AIRT_FLAG": {
      "type": "int32",
      "long_name": "air temperature sensor flag",
      "comment": "1 - system1, 2 - system2"
    },
    "RELH": {
      "type": "float",
      "standard_name": "relative_humidity",
      "long_name": "relative humidity ",
      "units": "percent",
      "observation_type": "measured"
    },
    "RELH_H": {
      "type": "float",
      "long_name": "relative humidity measurement height above water level",
      "units": "meter"
    },
    "RELH_FLAG": {
      "type": "int32",
      "long_name": "relative humidity sensor flag",
      "comment": "1 - system1, 2 - system2"
    },
    "TEMP": {
      "type": "float",
      "standard_name": "sea_water_temperature",
      "long_name": "sea water temperature",
      "units": "celsius",
      "observation_type": "measured"
    },
    "TEMP_H": {
      "type": "float",
      "long_name": "sea water temperature measurement depth",
      "units": "meter"
    },
    "TEMP_FLAG": {
      "type": "int32",
      "long_name": "sea water temperature sensor flag",
      "comment": "1 - system1, 2 - system2"
    },
    "RAIN_AMOUNT": {
      "type": "float",
      "standard_name": "rainfall_rate",
      "long_name": "rain rate",
      "units": "millimeters hour-1",
      "observation_type": "measured"
    },
    "RAIN_AMOUNT_H": {
      "type": "float",
      "long_name": "precipitation measurement height above water level",
      "units": "meter"
    },
    "RAIN_AMOUNT_FLAG": {
      "type": "int32",
      "long_name": "precipitation sensor flag",
      "comment": "1 - system1, 2 - system2"
    },
    "SW": {
      "type": "float",
      "standard_name": "surface_downwelling_shortwave_flux_in_air",
      "long_name": "short wave radiation",
      "units": "watts meter-2",
      "observation_type": "measured"
    },
    "SW_H": {
      "type": "float",
      "long_name": "short-wave radiation measurement height above water level",
      "units": "meter"
    },
    "SW_FLAG": {
      "type": "int32",
      "long_name": "short-wave radiation sensor flag",
      "comment": "1 - system1, 2 - system2"
    },
    "LW": {
      "type": "float",
      "standard_name": "surface_downwelling_longwave_flux_in_air",
      "long_name": "long wave radiation",
      "units": "watts meter-2",
      "observation_type": "measured"
    },
    "LW_H": {
      "type": "float",
      "long_name": "long-wave radiation measurement height above water level",
      "units": "meter"
    },
    "LW_FLAG": {
      "type": "int32",
      "long_name": "long-wave radiation sensor flag",
      "comment": "1 - system1, 2 - system2"
    },
    "HS": {
      "type": "float",
      "standard_name": "surface_upward_sensible_heat_flux",
      "long_name": "sensible heat flux",
      "units": "watts meter-2",
      "observation_type": "calculated"
    },
    "HL": {
      "type": "float",
      "standard_name": "surface_upward_latent_heat_flux",
      "long_name": "latent heat flux",
      "units": "watts meter-2",
      "observation_type": "calculated"
    },
    "H_RAIN": {
      "type": "float",
      "standard_name": "temperature_flux_due_to_rainfall_expressed_as_heat_flux_into_sea_water",
      "long_name": "upward heat flux due to rainfall",
      "units": "watts meter-2",
      "observation_type": "calculated"
    },
    "TAU": {
      "type": "float",
      "standard_name": "magnitude_of_surface_downward_stress",
      "long_name": "wind stress",
      "units": "pascal",
      "observation_type": "calculated"
    },
    "SST": {
      "type": "float",
      "standard_name": "sea_surface_skin_temperature",
      "long_name": "sea skin temperature",
      "units": "celsius",
      "observation_type": "calculated"
    },
    "HEAT_NET": {
      "type": "float",
      "standard_name": "upward_heat_flux_in_air",
      "long_name": "net heat flux",
      "units": "watts meter-2",
      "observation_type": "calculated"
    },
    "MASS_NET": {
      "type": "float",
      "standard_name": "upward_mass_flux_of_air",
      "long_name": "net mass flux",
      "units": "kilogram meter-2 second-1",
      "observation_type": "calculated"
    },
    "LW_NET": {
      "type": "float",
      "standard_name": "surface_net_upward_longwave_flux",
      "long_name": "net long-wave radiation",
      "units": "watts meter-2",
      "observation_type": "calculated"
    },
    "SW_NET": {
      "type": "float",
      "standard_name": "surface_net_upward_shortwave_flux",
      "long_name": "net short-wave radiation",
      "units": "watts meter-2",
      "observation_type": "calculated"
    },
    "WSPD10M": {
      "type": "float",
      "standard_name": "wind_speed",
      "long_name": "calculated neutral wind speed at 10 meters",
      "units": "meter second-1",
      "observation_type": "calculated"
    },
    "AIRT1_5M": {
      "type": "float",
      "standard_name": "air_temparature",
      "long_name": "calculated air temperature at 1.5 meters",
      "units": "celsius",
      "observation_type": "calculated"
    },
    "AIRT2_0M": {
      "type": "float",
      "standard_name": "air_temparature",
      "long_name": "calculated air temperature at 2.0 meters",
      "units": "celsius",
      "observation_type": "calculated"
    },
    "RELH1_5M": {
      "type": "float",
      "standard_name": "relative_humidity",
      "long_name": "calculated relative humidity at 1.5 meters",
      "units": "percent",
      "observation_type": "calculated"
    },
    "RELH2_0M": {
      "type": "float",
      "standard_name": "relative_humidity",
      "long_name": "calculated relative humidity at 2.0 meters",
      "units": "percent",
      "observation_type": "calculated"
    },
    "history": {
      "type": "string",
      "long_name": "file history information"
    }
  },
  "aws_opendata_registry": {
    "Name": "Deep Water Moorings - Southern Ocean Time Series -  Surface Fluxes - Real time",
    "Description": "This data collection contains heat and mass fluxes at the sea surface computed from observations at the Southern Ocean Flux Station (SOFS) mooring. The observed meteorology, downwelling radiation, and sea water temperature and salinity at the surface are also included. Hourly averages of each parameter are delivered in near real-time. SOFS is an observing platform in the Sub-Antarctic Zone, approximately 350 nautical miles south-west of Tasmania. It obtains frequent measurements of the surface and deep ocean properties that control the transfer of heat, moisture, energy and CO2 between the atmosphere and the upper ocean to improve understanding of climate and carbon processes. The mooring was first deployed at (46.7S, 142E) in March 2010.",
    "Documentation": "https://catalogue-imos.aodn.org.au/geonetwork/srv/eng/catalog.search#/metadata/80ffbf9d-9547-41aa-8fa1-cf028c58556a",
    "Contact": "info@aodn.org.au",
    "ManagedBy": "AODN",
    "UpdateFrequency": "As Needed",
    "Tags": [
      "oceans",
      "meteorological",
      "radiation",
      "precipitation"
    ],
    "License": "http://creativecommons.org/licenses/by/4.0/",
    "Resources": [
      {
        "Description": "Cloud Optimised AODN dataset of IMOS - Deep Water Moorings - Southern Ocean Flux Station (SOFS) - Surface fluxes (real-time)",
        "ARN": "arn:aws:s3:::imos-data-lab-optimised/mooring_southern_ocean_surface_fluxes_realtime_qc.parquet",
        "Region": "ap-southeast-2",
        "Type": "S3 Bucket"
      }
    ],
    "DataAtWork": {
      "Tutorials": [
        {
          "Title": "Accessing IMOS - Deep Water Moorings - Southern Ocean Flux Station (SOFS) - Surface fluxes (real-time)",
          "URL": "https://github.com/aodn/aodn_cloud_optimised/blob/main/notebooks/mooring_southern_ocean_surface_fluxes_realtime_qc.ipynb",
          "NotebookURL": "https://githubtocolab.com/aodn/aodn_cloud_optimised/blob/main/notebooks/mooring_southern_ocean_surface_fluxes_realtime_qc.ipynb",
          "AuthorName": "Laurent Besnard",
          "AuthorURL": "https://github.com/aodn/aodn_cloud_optimised"
        },
        {
          "Title": "Accessing and search for any AODN dataset",
          "URL": "https://github.com/aodn/aodn_cloud_optimised/blob/main/notebooks/GetAodnData.ipynb",
          "NotebookURL": "https://githubtocolab.com/aodn/aodn_cloud_optimised/blob/main/notebooks/GetAodnData.ipynb",
          "AuthorName": "Laurent Besnard",
          "AuthorURL": "https://github.com/aodn/aodn_cloud_optimised"
        }
      ]
    },
    "Citation": "The citation in a list of references is: \"IMOS [year-of-data-download], [Title], [data-access-URL], accessed [date-of-access].\""
  },
  "schema_transformation": {
    "drop_variables": [],
    "add_variables": {
      "filename": {
        "source": "@filename",
        "schema": {
          "type": "string",
          "units": "1",
          "long_name": "Filename of the source file"
        }
      },
      "deployment_number": {
        "source": "@global_attribute:deployment_number",
        "schema": {
          "type": "float32",
          "units": "1",
          "long_name": "deployment number"
        }
      },
      "timestamp": {
        "source": "@partitioning:time_extent",
        "schema": {
          "type": "int64",
          "units": "1",
          "long_name": "Partition timestamp"
        }
      },
      "polygon": {
        "source": "@partitioning:spatial_extent",
        "schema": {
          "type": "string",
          "units": "1",
          "long_name": "Spatial partition polygon"
        }
      }
    },
    "partitioning": [
      {
        "source_variable": "deployment_number"
      },
      {
        "source_variable": "timestamp",
        "type": "time_extent",
        "time_extent": {
          "time_varname": "TIME",
          "partition_period": "Y"
        }
      },
      {
        "source_variable": "polygon",
        "type": "spatial_extent",
        "spatial_extent": {
          "lat_varname": "LATITUDE",
          "lon_varname": "LONGITUDE",
          "spatial_resolution": 2
        }
      }
    ],
    "global_attributes": {
      "delete": [
        "geospatial_lat_max",
        "geospatial_lat_min",
        "geospatial_lon_max",
        "geospatial_lon_min",
        "date_created"
      ],
      "set": {
        "title": "IMOS - Deep Water Moorings - Southern Ocean Flux Station (SOFS) - Surface fluxes (real-time)"
      }
    }
  }
}
